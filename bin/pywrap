#!/usr/bin/env python

import sys
import pywrap.cython as pycy
try:
    import clang.cindex as ci
except:
    raise Exception("Install 'python-clang-3.5' and 'libclang-3.5-dev'. "
                    "Note that a recent operating system is required, e.g. "
                    "Ubuntu 14.04.")


if __name__ == "__main__":
    if len(sys.argv) < 2:
        raise Exception("No filename given")

    try:
        filename = sys.argv[1]
        target = sys.argv[2]
    except IndexError:
        print("Usage: pywrap <header> <target>")
        exit(1)
    verbose = 0

    pycy.write_cython_wrapper(filename, target, verbose)
